<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:pe="http://primefaces.org/ui/extensions">
    <br></br>
    <br></br>
    <p:dataList id="filelist" value="#{operativoCtrl.archivosCargados}" var="file" type="ordered" styleClass="size_uploadfiles" 
                                emptyMessage="No se encontraron archivos">
        <p:commandLink value="#{file.name}" ajax="false" styleClass="lnkadjuntos">
            <p:fileDownload value="#{file}"/>
        </p:commandLink>
    </p:dataList>
    
    <br></br>
    <br></br>
    
    <p:commandButton value="Cargar adjuntos" actionListener="#{operativoCtrl.changeFileUploadState()}"
                     update="operativoform fuadjuntos" process="@this"/>
    
    <br></br>
    <br></br>
    
    <p:fileUpload id="fuadjuntos" mode="advanced" sizeLimit="8388608" allowTypes="/(\.|\/)(pdf|PDF)$/"
                  invalidSizeMessage="Su archivo excede el tamaÃ±o permitido de 8MB" 
                      invalidFileMessage="Solo puede subir archivos PDF" 
                      cancelLabel="Cancelar" uploadLabel="Subir" label="Examinar" 
                      fileUploadListener="#{operativoCtrl.addArchivos}" style="width: 600px"
                      rendered="#{operativoCtrl.showUploadPanel}"
                      update="filelistUpload :growl"/>
    
    <br></br>
    <br></br>
    
    <p:dataList id="filelistUpload" value="#{operativoCtrl.archivosParaCargar}" var="newfile" type="ordered" styleClass="size_uploadfiles" 
                emptyMessage="No se encontraron archivos" rendered="#{operativoCtrl.showUploadPanel}">
        <p:outputLabel value="#{newfile.fileName}"/>
    </p:dataList>
    
    <br></br>
    <br></br>
    
</ui:composition>
